import{a0 as m,h as k,a4 as W,a5 as J,a6 as Q,j as G,O as K,C as t,a7 as X,o as c,c as A,a8 as Y,b as h,w as I,e as v,F as P,D as Z,L as N,t as ss,H as R,l as w,k as j,a3 as r,Q as ns}from"./chunks/framework.ce0e3599.js";const $={setup(a,E){return()=>E.attrs.render(E.attrs)}};function as(a,E,e){let u,g,F,d,q;const B=function(){const i=+new Date-d;i<E&&i>0?u=setTimeout(B,E-i):(u=null,e||(q=a.apply(F,g),u||(F=g=null)))};return function(...i){F=this,d=+new Date;const b=e&&!u;return u||(u=setTimeout(B,E)),b&&(q=a.apply(F,i),F=i=null),q}}const ls=["innerHTML"],ps={key:1},os=j("div",{style:{height:"12px"}},null,-1),es={__name:"table",props:{noStatic:!1,options:{type:Object,default:{stripe:!1,loading:!1,highlightCurrentRow:!1,mutiSelect:!1,border:!1,selectable:()=>!1}},total:{type:Number,default:0},list:{type:Array,default:[]},customHeight:{type:Number,default:320},columns:{type:Array,default:[]},operates:{type:Object,defaultt:()=>{}},otherHeight:{type:Number,default:180},pagination:{type:Object,default:null}},emits:["handleSelectionChange","sortChange","handleSizeChange","handleIndexChange"],setup(a,{emit:E}){const e=a,u=m([10,20,30,50]),g=k("");let F=k(250);m([]);let d=null;W(()=>{d||B(),i()}),J(()=>{q()}),Q(()=>{q()}),G(()=>{B()});const q=()=>{window.removeEventListener("resize",d),d=null},B=()=>{d=as(()=>{i()},200),window.addEventListener("resize",d),K(()=>{i()})},i=()=>{if(e.noStatic)return;let n=window.innerHeight-g.value.$el.offsetTop-e.otherHeight;F.value=n<250?250:n,g.value&&g.value.doLayout()},b=({rowIndex:n})=>n%2===0?"warning-row":n%2===1?"success-row":"",z=({row:n})=>!e.operates||!e.operates.list||!Array.isArray(e.operates.list)?[]:e.operates.list.filter(p=>typeof p.show=="function"?p.show(n):(typeof p.show=="boolean"&&p.show,!0)),D=(n,p)=>r(t("el-button"),{type:n.type||"primary",plain:n.plain||!1,link:n.link||!1,size:n.size||"small",title:n.label,color:n.color,onClick:()=>{n.method(p.index,p.row)}},()=>[n.icon?[n.label,r(t("el-icon"),{class:"el-icon--right"},()=>[r(t(n.icon))])]:n.label]),O=(n,p)=>r(t("el-dropdown"),{class:["custom-dropdown"],trigger:"click"},{default:()=>r(t("el-button"),{style:{fontSize:"18px"},class:["custom-text"],link:!0,plain:!1,size:"small"},()=>r(t("el-icon"),()=>[r(t("MoreFilled"))])),dropdown:()=>r(t("el-dropdown-menu"),null,()=>n.map(y=>r(t("el-dropdown-item"),{onclick:()=>{y.method(p.index,p.row)}},()=>y.label)))}),V=n=>{const p=z(n);let y=p.slice(0,2),f=p.slice(2);const x=[];return y.forEach(_=>{x.push(D(_,n))}),f.length>0&&x.push(O(f,n)),r("div",{class:"operate-group"},x)},H=({rowIndex:n})=>n==0?e.options.headerCellStyle||"":" ",s=n=>{E("handleSelectionChange",n)},l=({column:n,prop:p,order:y})=>{E("sortChange",{column:n,prop:p,order:y})},C=n=>n.show===void 0?!0:typeof n.show!="function"?n.show:n.show(n),T=n=>{let p=n.label.length,y=20;return p*y<100?100:p*y},M=n=>{e.pagination&&E("handleSizeChange",{...e.pagination})},U=n=>{e.pagination&&E("handleIndexChange",{...e.pagination})};return(n,p)=>{const y=t("el-table-column"),f=t("el-table"),x=t("el-pagination"),_=X("loading");return c(),A("div",null,[Y((c(),h(f,N({id:"iTable",ref_key:"mutipleTable",ref:g,"row-class-name":b,"header-cell-style":H,border:a.options.border,data:a.list,height:a.noStatic?a.customHeight:w(F),"max-height":a.noStatic?a.customHeight:w(F)},a.options,{onSelectionChange:s,onSortChange:l}),{default:I(()=>[a.options.mutiSelect?(c(),h(y,{key:0,type:"selection",style:{width:"60px"},selectable:a.options.selectable},null,8,["selectable"])):v("",!0),a.options.numbers?(c(),h(y,{key:1,width:"60",type:"index",label:"序号",align:"center"})):v("",!0),(c(!0),A(P,null,Z(a.columns,(o,L)=>(c(),A(P,null,[C(o)?(c(),h(y,N({"min-width":T(o),key:L,prop:o.prop,label:o.label,align:o.align,width:o.width},o.el),{default:I(S=>[o.render?(c(),h($,{key:1,column:o,row:S.row,render:o.render,index:L},null,8,["column","row","render","index"])):(c(),A(P,{key:0},[o.formatter?(c(),A("span",{key:0,innerHTML:o.formatter(S.row,o)},null,8,ls)):(c(),A("span",ps,ss(S.row[o.prop]===0?0:S.row[o.prop]||"--"),1))],64))]),_:2},1040,["min-width","prop","label","align","width"])):v("",!0)],64))),256)),a.operates&&a.operates.list.length>0?(c(),h(y,{key:2,ref:"fixedColumn",label:"操作",align:"center",width:a.operates&&a.operates.width,fixed:a.operates&&a.operates.fixed},{default:I(o=>[R($,{row:o.row,render:V,index:o.$index},null,8,["row","index"])]),_:1},8,["width","fixed"])):v("",!0)]),_:1},16,["border","data","height","max-height"])),[[_,a.options.loading]]),os,a.pagination?(c(),h(x,{key:0,"pager-count":5,onSizeChange:M,onCurrentChange:U,"page-size":a.pagination.pageSize,"onUpdate:pageSize":p[0]||(p[0]=o=>a.pagination.pageSize=o),"page-sizes":a.pagination.pageSizes||u,"current-page":a.pagination.pageIndex,"onUpdate:currentPage":p[1]||(p[1]=o=>a.pagination.pageIndex=o),layout:"->,total,sizes, prev, pager, next,jumper",total:a.total,background:a.pagination.background||!1},null,8,["page-size","page-sizes","current-page","total","background"])):v("",!0)])}}},ts={__name:"table",setup(a){let E=k(1e3),e=m([{id:1,title:"标题",state:1,author:"张三",phone:"12346788901",email:"1234556778@qq.com",createDate:"2023-04-23 16:11:38",zero:null,isOpend:!0,headimgurl:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png"}]),u=k(288),g=m([{prop:"id",label:"编号",align:"center",el:{sortable:!0}},{prop:"author",label:"作者",align:"center",width:120},{prop:"phone",label:"联系方式",align:"center",width:160,show:!1},{prop:"zero",label:"邮箱",align:"center",width:240},{prop:"createDate",label:"发布时间",align:"center",width:180,formatter:(s,l,C)=>s.createDate},{prop:"title",label:"标题",align:"center",formatter:(s,l,C)=>`<span style="white-space: nowrap;color: dodgerblue;">${s.title}</span>`},{prop:"state",label:"状态",align:"center",width:"160",render:s=>{const l=s.row.state,C={0:{type:"success",text:"上架"},1:{type:"info",text:"下架"},2:{type:"danger",text:"审核中"}},T=C.hasOwnProperty(l)?C[l].type:"default",M=C.hasOwnProperty(l)?C[l].text:"未知";return r(t("el-tag"),{type:T},()=>M)}},{prop:"switch",label:"开关",align:"center",width:"160",render:s=>r(t("el-switch"),{size:"default",modelValue:s.row.isOpend,onChange:l=>{V(l,s)}})},{prop:"headimgurl",label:"头像",align:"center",render:s=>r(t("el-avatar"),{size:44,src:s.row.headimgurl,onError:l=>!0},()=>[r("img",{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"})])},{prop:"link",label:"查看",align:"center",width:"160",render:s=>r(t("el-link"),{type:"primary",underline:!1,onClick:l=>{H(s)}},()=>"查看")}]);const F=m({width:200,fixed:"right",list:[{label:"编辑",type:"primary",plain:!0,link:!0,show:(s,l)=>!0,icon:"Edit",disabled:!1,method:(s,l)=>{console.log("编辑"),z(s,l)}},{label:"删除",type:"primary",icon:"Delete",plain:!0,link:!0,show:!0,disabled:(s,l)=>!1,method:(s,l)=>{console.log("删除"),D(s,l)}},{label:"测试下拉1",type:"primary",icon:"el-icon-delete",show:!0,disabled:(s,l)=>!1,method:(s,l)=>{console.log("测试下拉1"),D(s,l)}},{label:"测试下拉2",type:"primary",icon:"el-icon-delete",show:!0,disabled:(s,l)=>!1,method:(s,l)=>{console.log("测试下拉2"),D(s,l)}}]}),d=m({pageIndex:1,pageSize:20}),q=m({stripe:!0,loading:!1,highlightCurrentRow:!0,mutiSelect:!0,border:!0,numbers:!0,selectable(){return!0},headerCellStyle:{backgroundColor:"#FFF"}}),B=s=>{console.log("pagination",s)},i=s=>{console.log("pagination",s)},b=s=>{console.log("val:",s)},z=(s,l)=>{console.log(" index:",s),console.log(" row:",l)},D=(s,l)=>{console.log(" index:",s),console.log(" row:",l)},O=s=>{console.log(s)},V=(s,l)=>{console.log(s,l),e[0].isOpend=!e[0].isOpend},H=s=>{console.log(s)};return(s,l)=>(c(),h(es,{list:w(e),total:w(E),otherHeight:w(u),options:q,pagination:d,columns:w(g),operates:F,onHandleSizeChange:B,onHandleIndexChange:i,onHandleSelectionChange:b,onSortChange:O},null,8,["list","total","otherHeight","options","pagination","columns","operates"]))}},cs=j("br",null,null,-1),rs=ns("",1),is=JSON.parse('{"title":"","description":"","frontmatter":{"layout":"page"},"headers":[],"relativePath":"assembly/table/table.md","filePath":"assembly/table/table.md"}'),Es={name:"assembly/table/table.md"},Fs=Object.assign(Es,{setup(a){return(E,e)=>(c(),A("div",null,[cs,R(ts),rs]))}});export{is as __pageData,Fs as default};
